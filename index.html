<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HopeVisionAI - L'IA au service de la décision médicale</title>
    <!-- Importation de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Importation de la police Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* Définition de la police Inter comme police par défaut */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Ajout d'un effet de surbrillance subtil pour les "piliers" */
        .pillar-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
    </style>
</head>
<body class="bg-white text-gray-800 antialiased">

    <!-- ===== Barre de Navigation ===== -->
    <nav class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm shadow-sm">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="#" class="text-2xl font-bold text-blue-700">
                    HopeVision<span class="font-light text-teal-600">AI</span>
                </a>
                
                <!-- Liens de navigation (Desktop) -->
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#patients" class="text-gray-600 hover:text-blue-700 transition duration-300">Pour les Patients</a>
                    <a href="#medecins" class="text-gray-600 hover:text-blue-700 transition duration-300">Pour les Médecins</a>
                    <a href="#securite" class="text-gray-600 hover:text-blue-700 transition duration-300">Sécurité</a>
                </div>
                
                <!-- Bouton CTA (Appel à l'action) -->
                <a href="#demo" class="hidden md:inline-block bg-blue-600 text-white px-5 py-2 rounded-full font-semibold hover:bg-blue-700 shadow-md transition duration-300">
                    Commencer ma pré-analyse
                </a>
                
                <!-- Menu Burger (Mobile) - Ajout simple pour la complétude -->
                <div class="md:hidden">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-gray-700">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                    </svg>
                </div>
            </div>
        </div>
    </nav>

    <!-- ===== Section Héros ===== -->
    <header class="relative pt-16 md:pt-24 pb-24 md:pb-32 overflow-hidden">
        <!-- Fond en dégradé subtil -->
        <div class="absolute inset-0 -z-10 bg-gradient-to-b from-blue-50/50 to-white"></div>
        
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row items-center gap-12">
                
                <!-- Colonne Texte -->
                <div class="md:w-1/2 text-center md:text-left">
                    <span class="inline-block bg-blue-100 text-blue-700 text-sm font-semibold px-4 py-1 rounded-full mb-4">Aide à la Décision Médicale Multimodale</span>
                    <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight mb-6">
                        L'IA qui éclaire
                        <span class="block text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-teal-500">le jugement humain.</span>
                    </h1>
                    <p class="text-lg text-gray-600 max-w-xl mx-auto md:mx-0 mb-8">
                        Décrivez vos symptômes par texte, voix ou image et obtenez une première orientation médicale fiable, claire et personnalisée.
                    </p>
                    <div class="flex justify-center md:justify-start gap-4">
                        <a href="#demo" class="bg-blue-600 text-white px-8 py-3 rounded-full font-bold text-lg shadow-lg hover:bg-blue-700 transition duration-300">
                            Commencer ma pré-analyse
                        </a>
                    </div>
                </div>
                
                <!-- Colonne Visuelle -->
                <div class="md:w-1/2">
                    <!-- ANCIEN: Placeholder pour un visuel produit (ex: capture d'écran de l'app) -->
                    <!-- <img src="https://placehold.co/600x450/0f172a/06b6d4?text=Analyse+IA+Multimodale" alt="Interface de HopeVisionAI" class="rounded-lg shadow-2xl aspect-video object-cover"> -->

                    <!-- NOUVEAU: Vidéo de la section Héros -->
                    <!-- Cet élément <video> remplace l'image placeholder. -->
                    <!-- Il est configuré pour une lecture automatique, en boucle, sans son, et s'affiche en ligne (playsinline) sur mobile. -->
                    <!-- Le 'poster' est l'image affichée avant le chargement, basée sur la palette de l'animation. -->
                    <!-- !! IMPORTANT: Remplacez les chemins '/chemin/vers/...' par les URL de vos fichiers vidéo .webm et .mp4 -->
                    <video 
                        class="rounded-lg shadow-2xl aspect-video object-cover w-full h-full" 
                        autoplay 
                        loop 
                        muted 
                        playsinline 
                        poster="https://placehold.co/1920x1080/F0F9FF/2563EB?text=Poster+Animation+IA+(16:9)">
                        
                        <!-- Fournissez plusieurs formats pour une compatibilité maximale des navigateurs -->
                        <source src="/chemin/vers/hopevisionai-hero.webm" type="video/webm">
                        <source src="/chemin/vers/hopevisionai-hero.mp4" type="video/mp4">
                        
                        <!-- Message affiché si le navigateur ne supporte pas la vidéo -->
                        Votre navigateur ne supporte pas la lecture de vidéos.
                    </video>
                </div>
            </div>
        </div>
    </header>

    <!-- ===== Section Problème / Solution ===== -->
    <section class="py-20 bg-slate-50">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <!-- Le Problème -->
                <div class="bg-white p-8 rounded-lg shadow-lg border border-gray-100">
                    <h2 class="text-3xl font-bold mb-4">Le défi actuel</h2>
                    <p class="text-gray-600 text-lg">
                        Aujourd’hui, les médecins sont submergés de données fragmentées entre hôpitaux, laboratoires et applications. Les patients, eux, manquent d’un outil simple, sécurisé et intelligent pour comprendre leurs symptômes et savoir quand consulter.
                    </p>
                </div>
                
                <!-- La Solution -->
                <div class="bg-gradient-to-r from-blue-600 to-teal-600 text-white p-8 rounded-lg shadow-xl">
                    <h2 class="text-3xl font-bold mb-4">Notre solution</h2>
                    <p class="text-blue-100 text-lg">
                        HopeVisionAI comble ce vide en créant un pont intelligent entre le patient, la donnée et le clinicien. Nous ne remplaçons pas le médecin : nous amplifions sa vision et accélérons sa décision.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== Section "Comment ça marche" (Pour les patients) ===== -->
    <section id="patients" class="py-24">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-4xl font-extrabold mb-4">Un parcours patient simplifié</h2>
                <p class="text-lg text-gray-600">En 3 étapes simples, obtenez une analyse claire et partagez-la en toute sécurité avec un professionnel de santé.</p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Étape 1 -->
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 text-center">
                    <div class="relative w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 18.75a.75.75 0 0 0 .75-.75V6.108c0-.462.152-.9.434-1.252a.75.75 0 0 1 1.06 1.061l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.061c.283.352.434.79.434 1.252v11.892a.75.75 0 0 0 .75.75Z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 18.75a.75.75 0 0 0 .75-.75V6.108c0-.462.152-.9.434-1.252a.75.75 0 0 1 1.06 1.061l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.061c.283.352.434.79.434 1.252v11.892a.75.75 0 0 0 .75.75Z" opacity="0.4" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 18.75a.75.75 0 0 0 .75-.75V6.108c0-.462.152-.9.434-1.252a.75.75 0 0 1 1.06 1.061l-3 3a.75.75 0 0 1-1.06 0l-3-3a.75.75 0 1 1 1.06-1.061c.283.352.434.79.434 1.252v11.892a.75.75 0 0 0 .75.75Z" opacity="0.4" />
                        </svg>
                        <span class="absolute -top-1 -right-1 flex h-6 w-6 items-center justify-center rounded-full bg-blue-600 text-white font-bold text-sm">1</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-3">1. Décrivez</h3>
                    <p class="text-gray-600">Partagez vos symptômes par <span class="font-semibold">texte</span>, <span class="font-semibold">voix</span> ou en important une <span class="font-semibold">image</span> (ex: éruption cutanée, radio).</p>
                </div>
                
                <!-- Étape 2 -->
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 text-center">
                    <div class="relative w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z" />
                        </svg>
                        <span class="absolute -top-1 -right-1 flex h-6 w-6 items-center justify-center rounded-full bg-blue-600 text-white font-bold text-sm">2</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-3">2. Analysez</h3>
                    <p class="text-gray-600">En quelques secondes, l'IA compare vos données à des millions de cas cliniques pour vous proposer des hypothèses et un niveau de gravité.</p>
                </div>
                
                <!-- Étape 3 -->
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100 text-center">
                    <div class="relative w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m-3.741 3.198.001.001M10.5 18.72a9.094 9.094 0 0 1 3.741-.479 3 3 0 0 1-4.682-2.72m3.741 3.198.001.001M5.25 18.72a9.094 9.094 0 0 1 3.741-.479 3 3 0 0 1-4.682-2.72m3.741 3.198.001.001M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
                        </svg>
                        <span class="absolute -top-1 -right-1 flex h-6 w-6 items-center justify-center rounded-full bg-blue-600 text-white font-bold text-sm">3</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-3">3. Consultez</h3>
                    <p class="text-gray-600">Partagez votre rapport chiffré et sécurisé avec un médecin. Prenez rendez-vous directement depuis la plateforme, en toute confiance.</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- ===== Section "Pour les Médecins" ===== -->
    <section id="medecins" class="py-24 bg-blue-50/70">
        <div class="container mx-auto px-6">
            <div class="flex flex-col-reverse md:flex-row items-center gap-12">
                <!-- Visuel Dashboard Médecin -->
                <div class="md:w-1/2">
                    <!-- ANCIEN: Mockup SVG sombre -->
                    
                    <!-- NOUVEAU: Mockup SVG statique basé sur l'image fournie (image_8d441f.png) -->
                    <svg viewBox="0 0 800 550" xmlns="http://www.w3.org/2000/svg" class="rounded-lg shadow-2xl aspect-[800/550] object-cover w-full h-full" style="font-family: 'Inter', sans-serif; background-color: #f9fafb;">
                        <defs>
                            <filter id="card-shadow" x="-10%" y="-10%" width="120%" height="130%">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                <feOffset dy="4"/>
                                <feGaussianBlur stdDeviation="6"/>
                                <feComposite in2="hardAlpha" operator="out"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"/>
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
                            </filter>
                        </defs>

                        <!-- Fond principal -->
                        <rect width="800" height="550" fill="#f9fafb" />
                        
                        <!-- Header -->
                        <rect width="800" height="70" fill="#ffffff" />
                        <path d="M11.393 34.144c-1.348 0-2.67.382-3.832 1.146a6.31 6.31 0 0 0-2.31 2.31 6.31 6.31 0 0 0-1.146 3.832 6.31 6.31 0 0 0 1.146 3.832 6.31 6.31 0 0 0 2.31 2.31 6.31 6.31 0 0 0 3.832 1.146 6.31 6.31 0 0 0 3.832-1.146 6.31 6.31 0 0 0 2.31-2.31 6.31 6.31 0 0 0 1.146-3.832 6.31 6.31 0 0 0-1.146-3.832 6.31 6.31 0 0 0-2.31-2.31 6.31 6.31 0 0 0-3.832-1.146Z" fill="#1d4ed8" transform="translate(18 10)"/>
                        <path d="M12.393 30.144h-2v16h2v-6.5h1.5a4.5 4.5 0 0 0 4.5-4.5 4.5 4.5 0 0 0-4.5-4.5h-1.5Zm0 2h1.5a2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5h-1.5v-5Z" fill="#ffffff" transform="translate(18 10)"/>
                        <text x="55" y="32" font-size="14" font-weight="bold" fill="#1f2937">HopeVisionAI</text>
                        <text x="55" y="48" font-size="12" fill="#6b7280">Espace Médecin</text>
                        
                        <!-- User Profile -->
                        <circle cx="690" cy="35" r="14" fill="#e0e7ff" />
                        <text x="690" y="39" font-size="12" font-weight="bold" fill="#4338ca" text-anchor="middle">KA</text>
                        <text x="715" y="32" font-size="13" font-weight="600" fill="#1f2937">Dr Karim Ayari</text>
                        <text x="715" y="48" font-size="12" fill="#6b7280">Médecine Générale</text>
                        <path d="M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M13.5 15l3-3m0 0-3-3m3 3H9" stroke="#6b7280" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" transform="translate(760 22) scale(0.7)"/>

                        <!-- Tabs -->
                        <text x="40" y="100" font-size="14" font-weight="600" fill="#1d4ed8">Cas entrants</text>
                        <rect x="40" y="115" width="75" height="2" fill="#1d4ed8" rx="1" />
                        <text x="140" y="100" font-size="14" font-weight="500" fill="#6b7280">Collaboration</text>
                        <text x="250" y="100" font-size="14" font-weight="500" fill="#6b7280">Journal d'activité</text>

                        <!-- Stat Cards -->
                        <g id="cards" transform="translate(40, 140)">
                            <!-- Card 1 -->
                            <rect width="170" height="90" rx="12" fill="#ffffff" filter="url(#card-shadow)"/>
                            <text x="20" y="35" font-size="14" fill="#6b7280">Cas en attente</text>
                            <text x="20" y="70" font-size="28" font-weight="bold" fill="#1f2937">12</text>
                            <circle cx="135" cy="55" r="20" fill="#e0e7ff" />
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="#4338ca" transform="translate(123 43) scale(0.8)"/>

                            <!-- Card 2 -->
                            <rect x="190" width="170" height="90" rx="12" fill="#ffffff" filter="url(#card-shadow)"/>
                            <text x="210" y="35" font-size="14" fill="#6b7280">Cas urgents</text>
                            <text x="210" y="70" font-size="28" font-weight="bold" fill="#ef4444">3</text>
                            <circle cx="325" cy="55" r="20" fill="#fee2e2" />
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="#ef4444" transform="translate(313 43) scale(0.8)"/>

                            <!-- Card 3 -->
                            <rect x="380" width="170" height="90" rx="12" fill="#ffffff" filter="url(#card-shadow)"/>
                            <text x="400" y="35" font-size="14" fill="#6b7280">Traités aujourd'hui</text>
                            <text x="400" y="70" font-size="28" font-weight="bold" fill="#22c55e">8</text>
                            <circle cx="515" cy="55" r="20" fill="#dcfce7" />
                            <path d="M16 2H8C6.9 2 6 2.9 6 4v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 14h-3v3h-2v-3H7v-2h3V9h2v3h3v2z" fill="#22c55e" transform="translate(503 43) scale(0.8)"/>

                            <!-- Card 4 -->
                            <rect x="570" width="170" height="90" rx="12" fill="#ffffff" filter="url(#card-shadow)"/>
                            <text x="590" y="35" font-size="14" fill="#6b7280">Temps moyen</text>
                            <text x="590" y="70" font-size="28" font-weight="bold" fill="#1f2937">18<tspan font-size="22" dy="-2">m</tspan></text>
                            <circle cx="705" cy="55" r="20" fill="#eef2ff" />
                            <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="#6366f1" transform="translate(693 43) scale(0.8)"/>
                            <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="#6366f1" transform="translate(693 43) scale(0.8)"/>
                        </g>
                        
                        <!-- Search & Filter -->
                        <g id="filters" transform="translate(40, 255)">
                            <rect width="720" height="50" rx="10" fill="#ffffff" filter="url(#card-shadow)"/>
                            <path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#9ca3af" transform="translate(15 15) scale(0.8)"/>
                            <text x="45" y="32" font-size="14" fill="#9ca3af">Rechercher un patient, diagnostic...</text>
                            
                            <rect x="500" width="100" height="30" rx="8" fill="#f9fafb" transform="translate(0 10)"/>
                            <text x="550" y="30" font-size="13" fill="#374151" text-anchor="middle">Toutes spécialités</text>
                            <path d="m7 10 5 5 5-5" stroke="#6b7280" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" transform="translate(575 16) scale(0.7)"/>

                            <rect x="610" width="100" height="30" rx="8" fill="#f9fafb" transform="translate(0 10)"/>
                            <text x="660" y="30" font-size="13" fill="#374151" text-anchor="middle">Toutes urgences</text>
                            <path d="m7 10 5 5 5-5" stroke="#6b7280" stroke-width="1.5" fill="none" stroke-linecap="round" stroke-linejoin="round" transform="translate(685 16) scale(0.7)"/>
                        </g>

                        <!-- Patient List -->
                        <g id="list" transform="translate(40, 330)">
                            <!-- Header -->
                            <rect width="720" height="40" rx="8" fill="#f9fafb" />
                            <text x="20" y="25" font-size="12" font-weight="600" fill="#6b7280" text-transform="uppercase">Patient</text>
                            <text x="220" y="25" font-size="12" font-weight="600" fill="#6b7280" text-transform="uppercase">Gravité</text>
                            <text x="290" y="25" font-size="12" font-weight="600" fill="#6b7280" text-transform="uppercase">Diagnostic IA</text>
                            <text x="450" y="25" font-size="12" font-weight="600" fill="#6b7280" text-transform="uppercase">Confiance</text>
                            <text x="580" y="25" font-size="12" font-weight="600" fill="#6b7280" text-transform="uppercase">Statut</text>
                            
                            <!-- Row 1 -->
                            <rect y="50" width="720" height="50" rx="8" fill="#ffffff" filter="url(#card-shadow)" />
                            <circle cx="35" cy="75" r="14" fill="#e0e7ff" />
                            <text x="35" y="79" font-size="11" font-weight="600" fill="#4338ca" text-anchor="middle">NBS</text>
                            <text x="60" y="72" font-size="14" font-weight="600" fill="#1f2937">Nadia Ben Salem</text>
                            <text x="60" y="88" font-size="12" fill="#6b7280">34 ans</text>
                            <circle cx="230" cy="75" r="6" fill="#f59e0b" /> <!-- Amber -->
                            <text x="290" y="80" font-size="14" fill="#1f2937">Pneumonie atypique</text>
                            <rect x="450" y="71" width="100" height="8" rx="4" fill="#e0e7ff" />
                            <rect x="450" y="71" width="71" height="8" rx="4" fill="#4338ca" />
                            <text x="555" y="79" font-size="13" fill="#6b7280">71%</text>
                            <rect x="580" y="68" width="55" height="20" rx="10" fill="#e0e7ff" />
                            <text x="608" y="81" font-size="11" font-weight="600" fill="#4338ca" text-anchor="middle">Nouveau</text>
                            <rect x="650" y="68" width="55" height="20" rx="6" fill="#111827" />
                            <text x="678" y="81" font-size="11" font-weight="500" fill="#ffffff" text-anchor="middle">Ouvrir</text>

                            <!-- Row 2 -->
                            <rect y="105" width="720" height="50" rx="8" fill="#ffffff" filter="url(#card-shadow)" />
                            <circle cx="35" cy="130" r="14" fill="#e0e7ff" />
                            <text x="35" y="134" font-size="11" font-weight="600" fill="#4338ca" text-anchor="middle">AM</text>
                            <text x="60" y="127" font-size="14" font-weight="600" fill="#1f2937">Ahmed Mansour</text>
                            <text x="60" y="143" font-size="12" fill="#6b7280">52 ans</text>
                            <circle cx="230" cy="130" r="6" fill="#ef4444" /> <!-- Red -->
                            <text x="290" y="135" font-size="14" fill="#1f2937">Infarctus suspecté</text>
                            <rect x="450" y="126" width="100" height="8" rx="4" fill="#e0e7ff" />
                            <rect x="450" y="126" width="84" height="8" rx="4" fill="#4338ca" />
                            <text x="555" y="134" font-size="13" fill="#6b7280">84%</text>
                            <rect x="580" y="123" width="55" height="20" rx="10" fill="#fee2e2" />
                            <text x="608" y="136" font-size="11" font-weight="600" fill="#ef4444" text-anchor="middle">Urgent</text>
                            <rect x="650" y="123" width="55" height="20" rx="6" fill="#111827" />
                            <text x="678" y="136" font-size="11" font-weight="500" fill="#ffffff" text-anchor="middle">Ouvrir</text>

                            <!-- Row 3 -->
                            <rect y="160" width="720" height="50" rx="8" fill="#ffffff" filter="url(#card-shadow)" />
                            <circle cx="35" cy="185" r="14" fill="#e0e7ff" />
                            <text x="35" y="189" font-size="11" font-weight="600" fill="#4338ca" text-anchor="middle">LT</text>
                            <text x="60" y="182" font-size="14" font-weight="600" fill="#1f2937">Leila Trabelsi</text>
                            <text x="60" y="198" font-size="12" fill="#6b7280">28 ans</text>
                            <circle cx="230" cy="185" r="6" fill="#22c55e" /> <!-- Green -->
                            <text x="290" y="190" font-size="14" fill="#1f2937">Rhinite allergique</text>
                            <rect x="450" y="181" width="100" height="8" rx="4" fill="#e0e7ff" />
                            <rect x="450" y="181" width="92" height="8" rx="4" fill="#4338ca" />
                            <text x="555" y="189" font-size="13" fill="#6b7280">92%</text>
                            <text x="608" y="188" font-size="13" fill="#6b7280" text-anchor="middle">En attente</text>
                            <rect x="650" y="178" width="55" height="20" rx="6" fill="#111827" />
                            <text x="678" y="191" font-size="11" font-weight="500" fill="#ffffff" text-anchor="middle">Ouvrir</text>

                        </g>

                    </svg>
                </div>
                
                <!-- Texte Médecin -->
                <div class="md:w-1/2">
                    <span class="inline-block bg-teal-100 text-teal-700 text-sm font-semibold px-4 py-1 rounded-full mb-4">Conçu pour les cliniciens</span>
                    <h2 class="text-4xl font-extrabold mb-6">Recevez le bon patient, au bon moment, avec la bonne information.</h2>
                    <p class="text-lg text-gray-600 mb-8">
                        HopeVisionAI n'est pas une simple application. C'est un écosystème conçu avec des médecins pour optimiser votre temps et sécuriser vos diagnostics.
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start gap-3">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-teal-600 flex-shrink-0 mt-1">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                            </svg>
                            <span class="text-gray-700"><span class="font-semibold">Triage Intelligent :</span> Visualisez les cas entrants classés par gravité (urgent, modéré, bénin) pour une prise en charge optimale.</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-teal-600 flex-shrink-0 mt-1">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                            </svg>
                            <span class="text-gray-700"><span class="font-semibold">Rapports de Pré-analyse :</span> Recevez un rapport IA complet avant la consultation (symptômes analysés, images, courbes).</span>
                        </li>
                        <li class="flex items-start gap-3">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-teal-600 flex-shrink-0 mt-1">
                                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                            </svg>
                            <span class="text-gray-700"><span class="font-semibold">Collaboration & Traçabilité :</span> Partagez des cas avec des spécialistes en temps réel. Chaque échange est archivé et sécurisé dans le dossier patient.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== Section "Nos Piliers" (Différenciation) ===== -->
    <section class="py-24">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-16">
                <h2 class="text-4xl font-extrabold mb-4">Notre différence : 4 piliers fondamentaux</h2>
                <p class="text-lg text-gray-600">Nous avons construit HopeVisionAI sur des principes d'efficacité, de transparence et de sécurité.</p>
            </div>
            
            <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Pilier 1: Multimodale -->
                <div class="pillar-card bg-white p-6 rounded-xl shadow-lg border border-gray-100 transition-all duration-300">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 6.75h8.25V17.25H8.25z" />
                            <path stroke-linecap="round" stroke-linejoin="round" d="M3 10.5h.008v.008H3v-.008Zm0 3.75h.008v.008H3v-.008Zm0 3.75h.008v.008H3v-.008Zm3.75 0h.008v.008H6.75v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm-15-3.75h.008v.008H6.75v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm-15-3.75h.008v.008H6.75v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Zm3.75 0h.008v.008h-.008v-.008Z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">IA Multimodale</h3>
                    <p class="text-gray-600">Analyse croisée du texte, de la voix (tonalité, toux) et des images (radios, photos) pour une précision accrue.</p>
                </div>
                
                <!-- Pilier 2: Explicable -->
                <div class="pillar-card bg-white p-6 rounded-xl shadow-lg border border-gray-100 transition-all duration-300">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">IA Explicable (XAI)</h3>
                    <p class="text-gray-600">Chaque hypothèse IA est accompagnée d'un bouton "Pourquoi ?", détaillant les signaux détectés pour une transparence totale.</p>
                    <!-- BOUTON DE DÉMO GEMINI AJOUTÉ -->
                    <button id="openXaiDemoBtn" class="mt-4 group inline-flex items-center gap-2 text-sm font-semibold text-blue-600 hover:text-blue-800 transition">
                        ✨ Démo Explicable
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4 transition-transform group-hover:translate-x-1">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                        </svg>
                    </button>
                </div>
                
                <!-- Pilier 3: Interopérable -->
                <div class="pillar-card bg-white p-6 rounded-xl shadow-lg border border-gray-100 transition-all duration-300">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Interopérable</h3>
                    <p class="text-gray-600">Connexion native aux standards de l'industrie (FHIR, HL7) pour une intégration fluide avec les systèmes hospitaliers (SIH) existants.</p>
                </div>
                
                <!-- Pilier 4: Sécurisée -->
                <div class="pillar-card bg-white p-6 rounded-xl shadow-lg border border-gray-100 transition-all duration-300">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.333 9-6.03 9-11.623 0-1.31-.21-2.571-.598-3.751A11.959 11.959 0 0 1 12 2.714Z" />
                        </svg>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Sécurisée par Design</h3>
                    <p class="text-gray-600">Conformité RGPD, certification HDS (Hébergeur de Données de Santé) et chiffrement AES-256 de bout en bout.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== Section Sécurité & Confiance (Badges) ===== -->
    <section id="securite" class="py-20 bg-gray-900 text-white">
        <div class="container mx-auto px-6">
            <div class="text-center max-w-3xl mx-auto mb-12">
                <h2 class="text-4xl font-extrabold mb-4">La confiance est notre fondation</h2>
                <p class="text-lg text-gray-300">Vos données de santé sont précieuses. Nous les protégeons avec les standards de sécurité les plus élevés de l'industrie.</p>
            </div>
            <div class="flex flex-wrap justify-center items-center gap-x-12 gap-y-8">
                <div class="text-center p-4">
                    <div class="font-bold text-teal-400 text-2xl">RGPD</div>
                    <div class="text-gray-400">Conformité Totale</div>
                </div>
                <div class="text-center p-4">
                    <div class="font-bold text-teal-400 text-2xl">HDS</div>
                    <div class="text-gray-400">Hébergement Certifié</div>
                </div>
                <div class="text-center p-4">
                    <div class="font-bold text-teal-400 text-2xl">ISO 27001</div>
                    <div class="text-gray-400">Management de la Sécurité</div>
                </div>
                <div class="text-center p-4">
                    <div class="font-bold text-teal-400 text-2xl">AES-256</div>
                    <div class="text-gray-400">Chiffrement de Bout en Bout</div>
                </div>
                <div class="text-center p-4">
                    <div class="font-bold text-teal-400 text-2xl">2FA</div>
                    <div class="text-gray-400">Authentification Forte</div>
                </div>
            </div>
        </div>
    </section>

    <!-- ===== Section CTA Final ===== -->
    <section id="demo" class="py-24 bg-gradient-to-r from-blue-700 to-teal-700 text-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl md:text-5xl font-extrabold mb-6">Prêt à transformer la médecine avec nous ?</h2>
            <p class="text-xl text-blue-100 max-w-2xl mx-auto mb-10">
                Que vous soyez un patient cherchant des réponses ou un établissement de santé visant l'excellence, HopeVisionAI est votre partenaire.
            </p>
            <div class="flex flex-col sm:flex-row justify-center gap-6">
                <a href="#" class="bg-white text-blue-700 px-10 py-4 rounded-full font-bold text-lg shadow-2xl hover:bg-blue-50 transition duration-300">
                    Commencer ma pré-analyse
                </a>
                <a href="#" class="bg-blue-900/50 text-white border-2 border-white/50 px-10 py-4 rounded-full font-bold text-lg hover:bg-white hover:text-blue-700 hover:border-white transition duration-300">
                    Demander une démo (Pro)
                </a>
            </div>
        </div>
    </section>

    <!-- ===== Footer ===== -->
    <footer class="bg-gray-800 text-gray-400 py-16">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8">
                <!-- Logo & Mission -->
                <div>
                    <a href="#" class="text-2xl font-bold text-white mb-4 block">
                        HopeVision<span class="font-light text-teal-400">AI</span>
                    </a>
                    <p class="text-sm">L’intelligence artificielle qui éclaire le jugement humain.</p>
                </div>
                
                <!-- Navigation -->
                <div>
                    <h4 class="font-semibold text-white text-lg mb-4">Navigation</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#patients" class="hover:text-white transition">Pour les Patients</a></li>
                        <li><a href="#medecins" class="hover:text-white transition">Pour les Médecins</a></li>
                        <li><a href="#securite" class="hover:text-white transition">Sécurité & Confiance</a></li>
                        <li><a href="#" class="hover:text-white transition">Carrières</a></li>
                    </ul>
                </div>
                
                <!-- Légal -->
                <div>
                    <h4 class="font-semibold text-white text-lg mb-4">Légal</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="hover:text-white transition">Politique de confidentialité</a></li>
                        <li><a href="#" class="hover:text-white transition">Conditions d'utilisation</a></li>
                        <li><a href="#" class="hover:text-white transition">Mentions légales</a></li>
                    </ul>
                </div>
                
                <!-- Contact -->
                <div>
                    <h4 class="font-semibold text-white text-lg mb-4">Contact</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="mailto:contact@hopevision.ai" class="hover:text-white transition">contact@hopevision.ai</a></li>
                        <li><p>Paris, France</p></li>
                    </ul>
                </div>
            </div>
            
            <hr class="border-gray-700 my-8">
            
            <div class="text-center text-sm">
                &copy; 2025 HopeVisionAI. Tous droits réservés.
            </div>
        </div>
    </footer>

    <!-- ===== MODAL DE DÉMO GEMINI (AJOUTÉ) ===== -->
    <div id="xaiDemoModal" class="fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="bg-white w-full max-w-lg rounded-2xl shadow-xl overflow-hidden transition-all duration-300 transform scale-95 opacity-0" id="modal-panel">
            <!-- En-tête du Modal -->
            <div class="flex items-start justify-between p-5 border-b border-gray-200">
                <div class="flex flex-col">
                    <h3 class="text-xl font-bold text-gray-900" id="modal-title">
                        Démo : IA Explicable ✨
                    </h3>
                    <p class="text-sm text-gray-500">Généré par l'API Gemini</p>
                </div>
                <button id="closeXaiDemoBtn" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                    </svg>
                    <span class="sr-only">Fermer</span>
                </button>
            </div>
            
            <!-- Contenu du Modal -->
            <div class="p-6 space-y-4">
                <!-- Cas de démo statique -->
                <div class="bg-slate-50 border border-slate-200 rounded-lg p-4">
                    <h4 class="font-semibold text-gray-800">Cas Patient (Exemple)</h4>
                    <p class="text-sm text-gray-600 mt-1">
                        <span class="font-medium">Hypothèse IA :</span> Pneumonie atypique (71%)
                    </p>
                    <p class="text-sm text-gray-600 mt-1">
                        <span class="font-medium">Signaux détectés :</span> Toux sèche persistante, Fièvre (38.4°C), Marqueur sanguin CRP (38 mg/L).
                    </p>
                </div>
                
                <!-- Bouton d'action -->
                <button id="explainBtn" type="button" class="w-full inline-flex justify-center items-center gap-2 px-5 py-3 rounded-lg font-semibold text-white bg-gradient-to-r from-blue-600 to-teal-600 hover:from-blue-700 hover:to-teal-700 shadow-md transition duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                        <path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 0 1-9.201-4.755l.197-.53c.12-.32.023-.68-.24-.88l-1.026-.77c-.42-.315-.996-.2-1.248.26C1.3 8.34 3.73 14.51 9.998 16.73a.75.75 0 0 0 .434.168l.142-.006a.75.75 0 0 0 .594-.882l-.083-.28c-.053-.178-.018-.37.09-.51l1.06-1.395c.18-.236.494-.3.75-.14l.357.21c.266.158.608.06.77-.203l.36- P.573a.75.75 0 0 0-.17-.968Z" clip-rule="evenodd" />
                        <path d="M12.5 8.25a.75.75 0 0 1-.75.75h-3.5a.75.75 0 0 1 0-1.5h3.5a.75.75 0 0 1 .75.75Z" />
                    </svg>
                    ✨ Expliquer en termes simples
                </button>
                
                <!-- Zone de chargement (cachée) -->
                <div id="loadingSpinner" class="text-center py-4 hidden">
                    <div role="status" class="inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]" aria-label="Chargement...">
                        <span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Chargement...</span>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">L'IA rédige une explication...</p>
                </div>
                
                <!-- Zone de résultat (cachée) -->
                <div id="resultDiv" class="bg-green-50 border border-green-200 rounded-lg p-4 text-gray-700 text-sm hidden">
                    <!-- Le contenu généré par l'IA ira ici -->
                </div>
                
                <!-- Zone d'erreur (cachée) -->
                <div id="errorDiv" class="bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-sm hidden">
                    <!-- Les messages d'erreur iront ici -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- ===== SCRIPT POUR LE MODAL ET L'APPEL API GEMINI (AJOUTÉ) ===== -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('xaiDemoModal');
            const modalPanel = document.getElementById('modal-panel');
            const openBtn = document.getElementById('openXaiDemoBtn');
            const closeBtn = document.getElementById('closeXaiDemoBtn');
            const explainBtn = document.getElementById('explainBtn');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const resultDiv = document.getElementById('resultDiv');
            const errorDiv = document.getElementById('errorDiv');

            // --- Logique d'ouverture/fermeture du Modal ---
            const openModal = () => {
                modal.classList.remove('hidden');
                setTimeout(() => {
                    modalPanel.classList.remove('scale-95', 'opacity-0');
                    modalPanel.classList.add('scale-100', 'opacity-100');
                }, 10); // Léger délai pour permettre la transition CSS
            };

            const closeModal = () => {
                modalPanel.classList.add('scale-95', 'opacity-0');
                modalPanel.classList.remove('scale-100', 'opacity-100');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    // Réinitialiser le modal à son état initial
                    resultDiv.classList.add('hidden');
                    errorDiv.classList.add('hidden');
                    loadingSpinner.classList.add('hidden');
                    explainBtn.classList.remove('hidden');
                    resultDiv.innerHTML = '';
                    errorDiv.innerHTML = '';
                }, 300); // Doit correspondre à la durée de la transition CSS
            };

            openBtn.addEventListener('click', openModal);
            closeBtn.addEventListener('click', closeModal);
            // Fermer le modal en cliquant sur l'arrière-plan
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // --- Logique d'appel à l'API Gemini ---
            explainBtn.addEventListener('click', async () => {
                // 1. Réinitialiser l'interface
                explainBtn.classList.add('hidden');
                resultDiv.classList.add('hidden');
                errorDiv.classList.add('hidden');
                loadingSpinner.classList.remove('hidden');
                
                // 2. Définir les prompts pour l'IA
                const systemPrompt = "Tu es un assistant médical virtuel. Explique le diagnostic suivant et les signaux associés en termes très simples, clairs et rassurants pour un patient qui n'a aucune connaissance médicale. Ne donne aucun conseil médical. Sois bref (2-3 phrases maximum) et utilise un langage accessible.";
                const userQuery = "Diagnostic: Pneumonie atypique (71% de confiance). Signaux détectés: Toux sèche persistante, Fièvre (38.4°C), Marqueur sanguin CRP (38 mg/L).";

                try {
                    // 3. Appeler l'API Gemini avec backoff
                    const result = await callGeminiApi(systemPrompt, userQuery);
                    
                    if (result.candidates && result.candidates[0].content?.parts?.[0]?.text) {
                        const text = result.candidates[0].content.parts[0].text;
                        // 4. Afficher le résultat
                        resultDiv.innerHTML = text.replace(/\n/g, '<br>'); // Remplace les sauts de ligne par des <br>
                        resultDiv.classList.remove('hidden');
                    } else {
                        throw new Error("Réponse de l'API invalide ou vide.");
                    }

                } catch (error) {
                    // 5. Gérer les erreurs
                    console.error("Erreur lors de l'appel à l'API Gemini:", error);
                    errorDiv.innerText = "Désolé, une erreur est survenue lors de la génération de l'explication. Veuillez réessayer.";
                    errorDiv.classList.remove('hidden');
                } finally {
                    // 6. Réafficher le bouton et cacher le spinner
                    loadingSpinner.classList.add('hidden');
                    explainBtn.classList.remove('hidden');
                }
            });

            /**
             * Appelle l'API Gemini avec une stratégie d'backoff exponentiel.
             */
            async function callGeminiApi(systemPrompt, userQuery) {
                const apiKey = ""; // Laissé vide, sera géré par l'environnement
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

                const payload = {
                    systemInstruction: {
                        parts: [{ text: systemPrompt }]
                    },
                    contents: [{
                        parts: [{ text: userQuery }]
                    }],
                    // Pas de 'tools' (Google Search) ici, car c'est une tâche de génération créative
                };

                // Utiliser fetchWithBackoff pour la robustesse
                const response = await fetchWithBackoff(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    const errorBody = await response.text();
                    throw new Error(`Erreur API: ${response.status} ${response.statusText} - ${errorBody}`);
                }

                return await response.json();
            }

            /**
             * Fonction fetch avec backoff exponentiel intégré.
             */
            async function fetchWithBackoff(url, options, retries = 3, delay = 1000) {
                try {
                    const response = await fetch(url, options);
                    if (!response.ok && response.status === 429 && retries > 0) { // 429 = Too Many Requests
                        // Ne pas logger les tentatives de backoff comme des erreurs
                        await new Promise(resolve => setTimeout(resolve, delay));
                        return fetchWithBackoff(url, options, retries - 1, delay * 2);
                    }
                    return response;
                } catch (error) {
                    if (retries > 0) {
                        // Ne pas logger les tentatives de backoff comme des erreurs
                        await new Promise(resolve => setTimeout(resolve, delay));
                        return fetchWithBackoff(url, options, retries - 1, delay * 2);
                    }
                    // Si toutes les tentatives échouent, rejeter l'erreur
                    throw error;
                }
            }
        });
    </script>

</body>
</html>

